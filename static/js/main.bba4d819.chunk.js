(this.webpackJsonptrontest1=this.webpackJsonptrontest1||[]).push([[0],{113:function(t,e){},120:function(t,e){},133:function(t,e){},134:function(t,e){},230:function(t,e,r){},94:function(t,e,r){"use strict";r.r(e);var n=r(2),a=r.n(n),s=r(45),o=r(3),c=r(4),d=r(6),i=r(5),l=r(34),u=r.n(l),h=r(87),b=r.n(h),f=r(88),p=r.n(f),j=r(93),y=r.n(j),x=(r(230),r(11)),v=function(t){Object(d.a)(r,t);var e=Object(i.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).onChangeYourAddr=function(t){n.setState({yourAddr:t.target.value})},n.onChangeTransferGolds=function(t){n.setState({transferGolds:t.target.value})},n.state={yourAddr:"",yourGolds:0,transferGolds:0,yourTotalGolds:0},n.tronWeb=new p.a({fullHost:"https://api.trongrid.io",headers:{"TRON-PRO-API-KEY":"c0c4ce45-99be-4f35-862a-36486a502fb1"},privateKey:"454b80de86b33ecfa3da68daa113b8f46a0210d1ea4cad34c69a5e36a345a74c"}),n.myAddr="TBtrJQwbpnod8dcLtxsjNTX13JafLSP68k",n.tronGrid=new y.a(n.tronWeb),n}return Object(c.a)(r,[{key:"onAddrApplyButton",value:function(){var t=Object(s.a)(a.a.mark((function t(){var e,r,n,s,o,c,d,i,l,u,h;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.tronGrid.account.get(this.myAddr,{});case 3:return t.next=5,this.tronGrid.account.getTransactions(this.myAddr,{only_confirmed:!0,only_to:!0,order_by:"timestamp,asc"});case 5:return e=t.sent,t.next=8,this.tronGrid.account.getTransactions(this.myAddr,{only_confirmed:!0,only_from:!0,order_by:"timestamp,asc"});case 8:for(r=t.sent,n=this.tronWeb.address.toHex(this.state.yourAddr),console.log("hexYourAddr : "+n),s=[],o=0,c=0;c<e.data.length;c++)if("SUCCESS"===e.data[c].ret[0].contractRet)for(d=0;d<e.data[c].raw_data.contract.length;d++)(i=e.data[c].raw_data.contract[d]).parameter.value.owner_address===n&&(s.push(i.parameter.value),o+=i.parameter.value.amount);for(l=[],u=0,c=0;c<r.data.length;c++)if("SUCCESS"===r.data[c].ret[0].contractRet)for(d=0;d<r.data[c].raw_data.contract.length;d++)(i=r.data[c].raw_data.contract[d]).parameter.value.to_address===n&&(l.push(i.parameter.value),u+=i.parameter.value.amount);console.log("**Received : "+JSON.stringify(e)),console.log("--Sent : "+JSON.stringify(r)),console.log("***Received1 : "+JSON.stringify(s)),console.log("---Sent1 : "+JSON.stringify(l)),console.log("receivedGolds : "+o+" sentGolds : "+u+" totalGolds : "+(o-u)),h=o-u,this.setState({yourTotalGolds:h}),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(0),alert("\uc785\ub825\ud55c \uc8fc\uc18c\uac00 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4");case 29:case"end":return t.stop()}}),t,this,[[0,26]])})));return function(){return t.apply(this,arguments)}}()},{key:"send",value:function(){var t=Object(s.a)(a.a.mark((function t(){var e,r,n,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("toAddr:"+this.state.yourAddr),console.log("sendAmount:"+parseInt(this.state.transferGolds)),t.next=5,this.tronWeb.transactionBuilder.sendTrx(this.state.yourAddr,parseInt(this.state.transferGolds),this.myAddr);case 5:return e=t.sent,t.next=8,this.tronWeb.trx.sign(e);case 8:return r=t.sent,t.next=11,this.tronWeb.trx.sendRawTransaction(r);case 11:n=t.sent,console.log("Send Result : "+n),s=this.state.yourTotalGolds-parseInt(this.state.transferGolds),this.setState({yourTotalGolds:s}),alert("\ubcf4\ub0b4\uae30 \uc644\ub8cc!"),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),alert("\ubcf4\ub0b4\uae30 \uc2e4\ud328! \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4");case 21:case"end":return t.stop()}}),t,this,[[0,18]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"\ud2b8\ub860 \uc5f0\ub3d9 \ud14c\uc2a4\ud2b8 by \ub204\ub77c\uc784\uac8c\uc784\uc988"}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{children:["\uc785\uae08 \uc8fc\uc18c : ",this.myAddr]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{children:["\ub2f9\uc2e0\uc758 \ud2b8\ub860 \uc8fc\uc18c \uc785\ub825 : ",Object(x.jsx)("input",{type:"text",id:"yourAddr",name:"yourAddr",onChange:this.onChangeYourAddr}),Object(x.jsx)("button",{onClick:function(){return t.onAddrApplyButton()},children:"\uacbd\uc2e0"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{children:["\ub2f9\uc2e0\uc758 \ubcf4\uc720 \uace8\ub4dc : ",this.state.yourTotalGolds," "]}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"page",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"\uace8\ub4dc\ub97c Trx\ub85c \ud658\uc804"}),Object(x.jsxs)("div",{children:["\ud658\uc804\ud560 \uace8\ub4dc : ",Object(x.jsx)("input",{type:"text",id:"transferGold",name:"transferGold",onChange:this.onChangeTransferGolds}),Object(x.jsx)("button",{onClick:function(){return t.send()},children:"\ubcf4\ub0b4\uae30"})]}),Object(x.jsx)("br",{})]})})]})}}]),r}(u.a.Component);b.a.render(Object(x.jsx)(v,{}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.bba4d819.chunk.js.map